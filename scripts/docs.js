const hoverQuery=window.matchMedia("(hover: hover)");let isHover=hoverQuery.matches;hoverQuery.addEventListener("change",t=>{isHover=t.matches});const hasTransitionEnd="ontransitionend"in window,prefersReducedMotion=window.matchMedia("(prefers-reduced-motion: reduce)").matches,collapseFactory=(t,n,s)=>(o,e)=>{n.removeEventListener("transitionend",s),e&&(n.style.maxHeight=`${o}px`),window.requestAnimationFrame(()=>{n.style.pointerEvents="none",n.style.userSelect="none",n.style.maxHeight="0px",n.style.opacity="0"}),t.setAttribute("aria-expanded","false")},expandFactory=(t,n)=>{const s=()=>{n.style.maxHeight="none"};return{expand:(o,e)=>{hasTransitionEnd&&!prefersReducedMotion&&e?(n.addEventListener("transitionend",s,{once:!0}),n.style.maxHeight=`${o}px`,n.style.pointerEvents="auto",n.style.userSelect="auto",n.style.opacity="1"):s(),t.setAttribute("aria-expanded","true")},handler:s}},toggleFactory=(t,n)=>{const{expand:s,handler:o}=expandFactory(t,n),e=collapseFactory(t,n,o);return{toggle:l=>{t.getAttribute("aria-expanded")==="true"?e(l,!0):s(l,!0)},expand:s,collapse:e}};function setUpAccordeon(t){const n=Array.from(t.children),s=n.some(e=>e.querySelector("li > a[aria-current]"));let o=n.filter(e=>e.tagName==="LI").reduce((e,l)=>{const r=l.getElementsByTagName("button"),c=l.getElementsByTagName("ul"),a=l.getElementsByTagName("a");if(r.length===0||c.length===0)return e;const u=c[0];return e.push({button:r[0],child:u,target:l,anchor:a.length>0?a[0]:null}),e},[]);return o.length===0||(o.forEach(e=>{const l=setUpAccordeon(e.child),r=e.anchor.getAttribute("aria-current")==="page";setUpSingleAccordeon(e.target,e.button,e.child,l||r,!1)}),t.classList.add("animated")),s}function setUpSingleAccordeon(t,n,s,o,e=!1){const{toggle:l,expand:r,collapse:c}=toggleFactory(t,s);s.style.overflow="visible hidden";let a=s.offsetHeight;o?r(a,!1):c(a,!1),n.addEventListener("click",u=>{e&&u.preventDefault(),l(a)})}function isElementInViewport(t){const n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)}function setUpOnPageNavigation(t){const n=Array.from(t.querySelectorAll("li[data-assoc]")).reduce((o,e)=>{const l=e.getAttribute("data-assoc"),r=e.getElementsByTagName("a"),c=document.getElementById(l);return c&&r.length>0&&o.push({item:e,assoc:c,anchor:r[0]}),o},[]),s=()=>{const o=n.find(e=>isElementInViewport(e.assoc));o&&(n.forEach(e=>e.item.removeAttribute("aria-current")),o.item.setAttribute("aria-current","true"))};s(),window.addEventListener("scroll",s),window.addEventListener("resize",s)}function setUpTooltip(t){const n=t.querySelector("svg"),s=t.querySelector("div[role='tooltip']");let o=!1;const e=n.getElementsByTagName("title")[0];let l=e.textContent,r=0;const c=256,a=()=>{const m=window.innerWidth,d=n.getBoundingClientRect();d.left+c/2>m?(s.style.left=`${m-c-d.left-32}px`,s.classList.add("mobile")):d.left-c/2<0?(s.style.left=`${-d.left+32}px`,s.classList.add("mobile")):(s.style.left="-120px",s.classList.remove("mobile")),o=!0,e.innerHTML="",s.style.display="block",window.requestAnimationFrame(()=>{s.style.opacity="1"}),r=Date.now()},u=()=>{e.innerHTML=l,o=!1;const m=()=>{s.style.display="none"};hasTransitionEnd&&!prefersReducedMotion?s.addEventListener("transitionend",m,{once:!0}):m(),window.requestAnimationFrame(()=>{s.style.opacity="0",hasTransitionEnd&&!prefersReducedMotion&&s.removeEventListener("transitionend",m)})};n.addEventListener("click",()=>{isHover||(o&&Date.now()-r>100?u():a())}),n.addEventListener("mouseenter",m=>{m.preventDefault(),a()}),n.addEventListener("mousemove",m=>{o&&m.preventDefault()}),n.addEventListener("focus",a),n.addEventListener("blur",u),n.addEventListener("mouseleave",u),window.addEventListener("click",m=>{o&&!t.contains(m.target)&&u()}),window.addEventListener("mouseleave",u),window.addEventListener("keydown",m=>{o&&m.key==="Escape"&&u()})}function setUpCollapsingSidebar(t){const n=document.querySelector("button.hamburger"),s=t.querySelector("button.close");t.classList.add("mobile-hidden"),t.style.opacity="1";const o=c=>{t.classList.contains("mobile-hidden")||t.contains(c.target)||(l(),c.preventDefault())},e=()=>{t.classList.add("mobile-hidden"),t.style.transform="translateX(0)"},l=()=>{window.removeEventListener("click",o),hasTransitionEnd&&!prefersReducedMotion?(t.style.transform="translateX(-100%)",t.addEventListener("transitionend",e,{once:!0})):e()},r=()=>{t.removeEventListener("transitionend",e),t.style.transform="translateX(-100%)",t.classList.remove("mobile-hidden"),requestAnimationFrame(()=>{window.addEventListener("click",o),t.style.transform="translateX(0)"})};n.addEventListener("click",r),s.addEventListener("click",l)}function setUpSymbolFlyout(){const t=document.querySelector("main > .symbol-grid"),n=document.getElementById("flyout-template"),s=document.getElementById("flyout-sym-row");if(!t||!n||!s)return;if(!("content"in document.createElement("template"))){console.warn("Browser does not support template elements");return}const o=n.content.firstElementChild.cloneNode(!0);o.style.display="none",t.appendChild(o);const e=o.querySelector(".info button"),l=o.querySelector(".info button .sym"),r=o.querySelector(".sym-name code"),c=o.querySelector(".info .unic-name"),a=o.querySelector(".info .codepoint span"),u=o.querySelector(".info .accent"),m=o.querySelector(".info .accent img"),d=o.querySelector(".variants-box"),y=o.querySelector(".variants-box .symbol-grid"),h=o.querySelector(".shorthand"),f=o.querySelector(".shorthand code"),p=o.querySelector(".sym-name .copy"),w=o.querySelector(".shorthand .copy"),N=o.querySelector(".codepoint .copy"),M="/assets/icons/16-close.svg",R="/assets/icons/16-check.svg";let v;const C=i=>{if("clipboard"in navigator){navigator.clipboard.writeText(i);return}else{const g=document.createElement("input");g.value=i,document.body.appendChild(g),g.select(),document.execCommand("copy"),document.body.removeChild(g)}},x=()=>{const i=document.getElementById(v);i&&(i.ariaHasPopup="false"),v=void 0,o.style.display="none",window.removeEventListener("click",A);for(const{target:g,listener:S}of k)g.removeEventListener("click",S)},A=i=>{v!==void 0&&v!==i.target.id&&!o.contains(i.target)&&(x(),i.preventDefault())};let k=[];const T=i=>{i.ariaHasPopup="true",v=i.id,o.style.display="block";const g=i.id.replace(/^symbol-/,""),S=i.dataset.unicName,H=parseInt(i.dataset.codepoint,10),B=i.dataset.accent!=null,$=i.dataset.alternates?i.dataset.alternates.split(" "):[],b=i.dataset.shorthand,F=String.fromCodePoint(H);C(F);let E=H.toString(16).toUpperCase();E.length<4&&(E="0".repeat(4-E.length)+E),l.textContent=F,r.textContent=g,c.textContent=S,a.textContent=E,u.style.display=B?"block":"none",m.src=B?R:M,m.setAttribute("alt",B?"Yes":"No"),h.style.display=b&&b.length>0?"block":"none",f.textContent=b;let W=()=>{C(g)};if(p.addEventListener("click",W),k.push({target:p,listener:W}),b&&b.length>0){let L=()=>{C(b)};w.addEventListener("click",L),k.push({target:w,listener:L})}let P=()=>{C("\\u{"+E+"}")};N.addEventListener("click",P),k.push({target:N,listener:P});const U=$.map(L=>{const I=s.content.firstElementChild.cloneNode(!0),X=I.querySelector(".sym"),V=I.querySelector("button"),q=document.getElementById(`symbol-${L}`);if(q)X.textContent=String.fromCodePoint(parseInt(q.dataset.codepoint,10));else return null;return V.addEventListener("click",j=>{T(q),q.scrollIntoView(),j.preventDefault()}),I}).filter(L=>L!=null);d.style.display=U.length>0?"block":"none",y.replaceChildren(...U);let D=i.offsetLeft-12;const O=i.offsetTop-12;i.getBoundingClientRect().left+408>window.innerWidth&&(D=Math.max(8,window.innerWidth-t.getBoundingClientRect().left-424)),o.style.left=`${D}px`,o.style.top=`${O}px`};e.addEventListener("click",x),window.addEventListener("keydown",i=>{i.key==="Escape"&&v!==void 0&&(x(),i.preventDefault())});for(let i=0;i<t.children.length;i++){const g=t.children[i];g.tagName==="LI"&&g.addEventListener("click",S=>{T(g),S.preventDefault()})}window.requestAnimationFrame(()=>{window.removeEventListener("click",A),window.addEventListener("click",A,{capture:!0})})}function setUpSymbolSearch(){const t=document.querySelector("main > .symbol-grid"),n=document.getElementById("symbol-search");if(!t||!n)return;const s=Array.from(t.children).filter(a=>a.tagName==="LI"),o=s.map(a=>({name:a.id.replace(/^symbol-/,""),unicName:a.dataset.unicName,symbol:String.fromCodePoint(parseInt(a.dataset.codepoint,10)),shorthand:a.dataset.shorthand})),e=new Fuse(o,{keys:[{name:"symbol",weight:.95},{name:"name",weight:.9},{name:"unicName",weight:.7},{name:"shorthand",weight:.5}],threshold:.3,includeScore:!0}),l=()=>{if(n.value.length===0){s.forEach(u=>u.style.display="block");return}const a=e.search(n.value).map(u=>u.item.name);s.forEach(u=>{a.includes(u.id.replace(/^symbol-/,""))?u.style.display="block":u.style.display="none"})};n.addEventListener("input",l),n.addEventListener("keydown",l);const c=new URLSearchParams(window.location.search).get("query");c&&(n.value=c),l()}async function setUpSearch(t,n){const s=new AbortController,o=setTimeout(()=>s.abort(),1e4),e=await fetch("/assets/search.json?bust=20230520",{signal:s.signal}).then(r=>r.ok?r.json():null).catch(r=>(console.error(r),null));if(clearTimeout(o),!e)return;const l=()=>{let r=[],c=[];const a=t.value,u=t.value.toLowerCase().split(/[!-/:-@[-`{-~\s]/g).filter(d=>d.length>0);function m(d){if(r.includes(d))return;const y=e.items[d];if(c[d]=score(y,a),r.length<10){r.push(d);return}let h=0;for(let f=0;f<r.length;f++)c[r[f]]<c[r[h]]&&(h=f);if(c[d]>c[r[h]]){r[h]=d;return}}for(const d of u){let y=0,h=e.words.length-1;for(;y<h;){let p=Math.floor((y+h)/2);if(e.words[p].startsWith(d)){y=p;break}else d<e.words[p]?h=p-1:y=p+1}let f=y;for(;f>0&&e.words[f].startsWith(d);)f--;for(f++;f<e.words.length&&e.words[f].startsWith(d);){for(const p of e.hits[f])m(p);f++}}r.sort((d,y)=>c[y]-c[d]),n.replaceChildren(...r.map(d=>{const y=e.items[d];let h=y.route;y.kind=="Symbols"&&(h+="?query="+a);const f=document.createElement("li"),p=document.createElement("a"),w=document.createElement("span");return p.href=h,p.textContent=y.title,w.classList.add("type"),w.textContent=y.kind,p.appendChild(w),f.appendChild(p),f})),n.classList.toggle("hidden",r.length===0)};t.addEventListener("keydown",l),t.addEventListener("keyup",l),l()}const FACTORS={Type:1,Function:.9,Parameter:.8,Method:.7,Symbols:.6,Chapter:.5,Category:.5};function score(t,n){return(FACTORS[t.kind.split(" ")[0]]||.4)*Math.max(stringScore(t.title,n),t.keywords?stringScore(t.keywords,n):0)}function stringScore(t,n){const s=simplify(t),o=simplify(n);return s.includes(o)?100-t.length:0}function simplify(t){return t.toLowerCase().replaceAll(/[!-/:-@[-`{-~\s]/g,"")}document.addEventListener("DOMContentLoaded",()=>{for(const e of document.querySelectorAll("nav.folding > ul"))setUpAccordeon(e);for(const e of document.querySelectorAll(".folding-example")){const l=e.querySelector("button"),r=e.querySelector(".folding");setUpSingleAccordeon(e,l,r,!1)}const t=document.querySelector("#page-overview > ul");t&&setUpOnPageNavigation(t),setUpCollapsingSidebar(document.querySelector("nav.folding"));for(const e of document.querySelectorAll("div.tooltip-context"))setUpTooltip(e);const n=document.querySelector(".page-end-buttons a.previous"),s=document.querySelector(".page-end-buttons a.next");window.addEventListener("keydown",e=>{document.querySelectorAll("textarea:focus, input:focus").length>0||(e.key==="ArrowLeft"&&n?window.location.href=n.href:e.key==="ArrowRight"&&s&&(window.location.href=s.href))});for(const e of document.querySelectorAll(".previewed-code > pre"))e.clientWidth<e.scrollWidth&&e.classList.add("big");setUpSearch(document.getElementById("docs-search"),document.getElementById("search-results"));const o=()=>{setUpSymbolFlyout(),setUpSymbolSearch()};window.requestIdleCallback?window.requestIdleCallback(o):o()});
