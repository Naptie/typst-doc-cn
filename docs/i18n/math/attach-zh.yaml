route: /docs/reference/math/attach/
title: 附缀
description: Documentation for attach group of functions.
part: null
outline:
- id: summary
  name: Summary
  children: []
- id: attach
  name: Attachment
  children:
  - id: attach-example
    name: Example
    children: []
  - id: attach-syntax
    name: Syntax
    children: []
  - id: attach-parameters
    name: Parameters
    children:
    - id: attach-parameters-base
      name: base
      children: []
    - id: attach-parameters-t
      name: t
      children: []
    - id: attach-parameters-b
      name: b
      children: []
    - id: attach-parameters-tl
      name: tl
      children: []
    - id: attach-parameters-bl
      name: bl
      children: []
    - id: attach-parameters-tr
      name: tr
      children: []
    - id: attach-parameters-br
      name: br
      children: []
- id: scripts
  name: Scripts
  children:
  - id: scripts-example
    name: Example
    children: []
  - id: scripts-parameters
    name: Parameters
    children:
    - id: scripts-parameters-body
      name: body
      children: []
- id: limits
  name: Limits
  children:
  - id: limits-example
    name: Example
    children: []
  - id: limits-parameters
    name: Parameters
    children:
    - id: limits-parameters-body
      name: body
      children: []
    - id: limits-parameters-inline
      name: inline
      children: []
body:
  kind: funcs
  content:
    name: attach
    display: Attach
    details: |-
      <p>上/下标, 和极限。</p>
      <p><code>attach</code> 函数支持形如
      <code><span class="typ-math-delim">$</span>a<span class="typ-math-op">_</span>b<span class="typ-math-op">^</span>c<span class="typ-math-delim">$</span></code> 
      的语法，可以为方程的某个方位添加附缀。
      附缀可以显示为上/下标和极限的形式。
      Typst会根据附基自动调整为合适的显示方式，但是您也可以使用
      <code>scripts</code> and <code>limits</code>
      手动调整。
      </p>
    functions:
    - path:
      - attach
      display: Attachment
      keywords: null
      oneliner: A base with optional attachments.
      element: true
      details: |-
        <p>带有可选附缀的附基。</p>
        <h3 id="attach-example">Example</h3>
        <div class="previewed-code"><pre><code><span class="typ-comment">// With syntax.</span>
        <span class="typ-math-delim">$</span> <span class="typ-pol">sum</span><span class="typ-math-op">_</span><span class="typ-punct">(</span>i=0<span class="typ-punct">)</span><span class="typ-math-op">^</span>n a<span class="typ-math-op">_</span>i = 2<span class="typ-math-op">^</span><span class="typ-punct">(</span>1+i<span class="typ-punct">)</span> <span class="typ-math-delim">$</span>

        <span class="typ-comment">// / With function call.</span>
        <span class="typ-math-delim">$</span> <span class="typ-func">attach</span><span class="typ-punct">(</span>
          <span class="typ-pol">Pi</span><span class="typ-punct">,</span> t<span class="typ-punct">:</span> <span class="typ-pol">alpha</span><span class="typ-punct">,</span> b<span class="typ-punct">:</span> <span class="typ-pol">beta</span><span class="typ-punct">,</span>
          tl<span class="typ-punct">:</span> 1<span class="typ-punct">,</span> tr<span class="typ-punct">:</span> 2+3<span class="typ-punct">,</span> bl<span class="typ-punct">:</span> 4+5<span class="typ-punct">,</span> br<span class="typ-punct">:</span> 6<span class="typ-punct">,</span>
        <span class="typ-punct">)</span> <span class="typ-math-delim">$</span>
        </code></pre><div class="preview"><img src="/assets/docs/c5ec897569c2232d0f7d6902f6452215.png" alt="Preview" width="480" height="190"/></div></div>
        <h3 id="attach-syntax">语法</h3>
        <p>对于附基之后的附缀，该函数提供了专用语法： 
        使用下划线 (<code>_</code>) 表示下标，也即底部附缀；使用插入符号 (<code>^</code>) 来表示上标，也即顶部附缀。
        </p>
      params:
      - name: base
        details: <p>供附缀附着的部分。</p>
        example: null
        types:
        - content
        strings: []
        default: null
        positional: true
        named: false
        required: true
        variadic: false
        settable: false
      - name: t
        details: |-
          <p>顶部附缀，智能定位于附基的上方或右上方。</p>
          <p>你也可以将附基包裹在<code><span class="typ-func">limits</span><span class="typ-punct">(</span><span class="typ-punct">)</span></code> 
          或
          <code><span class="typ-func">scripts</span><span class="typ-punct">(</span><span class="typ-punct">)</span></code> 
          来覆盖掉智能定位。</p>
        example: null
        types:
        - none
        - content
        strings: []
        default: <code><span class="typ-key">none</span></code>
        positional: false
        named: true
        required: false
        variadic: false
        settable: true
      - name: b
        details: |-
          <p>顶部附缀，智能定位于附基的上方或右上方。</p>
          <p>你也可以将附基包裹在<code><span class="typ-func">limits</span><span class="typ-punct">(</span><span class="typ-punct">)</span></code> 
          或 
          <code><span class="typ-func">scripts</span><span class="typ-punct">(</span><span class="typ-punct">)</span></code> 
          来覆盖掉智能定位。</p>
        example: null
        types:
        - none
        - content
        strings: []
        default: <code><span class="typ-key">none</span></code>
        positional: false
        named: true
        required: false
        variadic: false
        settable: true
      - name: tl
        details: <p>左上角附缀。</p>
        example: null
        types:
        - none
        - content
        strings: []
        default: <code><span class="typ-key">none</span></code>
        positional: false
        named: true
        required: false
        variadic: false
        settable: true
      - name: bl
        details: <p>左下角附缀。</p>
        example: null
        types:
        - none
        - content
        strings: []
        default: <code><span class="typ-key">none</span></code>
        positional: false
        named: true
        required: false
        variadic: false
        settable: true
      - name: tr
        details: <p>右上角附缀。</p>
        example: null
        types:
        - none
        - content
        strings: []
        default: <code><span class="typ-key">none</span></code>
        positional: false
        named: true
        required: false
        variadic: false
        settable: true
      - name: br
        details: <p>右下角附缀。</p>
        example: null
        types:
        - none
        - content
        strings: []
        default: <code><span class="typ-key">none</span></code>
        positional: false
        named: true
        required: false
        variadic: false
        settable: true
      returns:
      - content
      methods: []
      scope: []
    - path:
      - scripts
      display: Scripts
      keywords: null
      oneliner: Forces a base to display attachments as scripts.
      element: true
      details: |-
        <p>强制将附缀显示为脚本形式。（即角标形式。）</p>
        <h3 id="scripts-example">Example</h3>
        <div class="previewed-code"><pre><code><span class="typ-math-delim">$</span> <span class="typ-func">scripts</span><span class="typ-punct">(</span><span class="typ-pol">sum</span><span class="typ-punct">)</span><span class="typ-math-op">_</span>1<span class="typ-math-op">^</span>2 <span class="typ-escape">!=</span> <span class="typ-pol">sum</span><span class="typ-math-op">_</span>1<span class="typ-math-op">^</span>2 <span class="typ-math-delim">$</span>
        </code></pre><div class="preview"><img src="/assets/docs/fd2fa3481f1f6d8947d1a6310cd5e827.png" alt="Preview" width="480" height="190"/></div></div>
      params:
      - name: body
        details: <p>供脚本附缀附着的部分。</p>
        example: null
        types:
        - content
        strings: []
        default: null
        positional: true
        named: false
        required: true
        variadic: false
        settable: false
      returns:
      - content
      methods: []
      scope: []
    - path:
      - limits
      display: Limits
      keywords: null
      oneliner: Forces a base to display attachments as limits.
      element: true
      details: |-
        <p>强制将附缀显示为上下限形式。（即显示在正上方和正下方）</p>
        <h3 id="limits-example">Example</h3>
        <div class="previewed-code"><pre><code><span class="typ-math-delim">$</span> <span class="typ-func">limits</span><span class="typ-punct">(</span>A<span class="typ-punct">)</span><span class="typ-math-op">_</span>1<span class="typ-math-op">^</span>2 <span class="typ-escape">!=</span> A<span class="typ-math-op">_</span>1<span class="typ-math-op">^</span>2 <span class="typ-math-delim">$</span>
        </code></pre><div class="preview"><img src="/assets/docs/a60dcf87b7850ffbb2f702c04761242c.png" alt="Preview" width="480" height="190"/></div></div>
      params:
      - name: body
        details: <p>供上下限附缀附着的部分。</p>
        example: null
        types:
        - content
        strings: []
        default: null
        positional: true
        named: false
        required: true
        variadic: false
        settable: false
      - name: inline
        details: |-
          <p>是否强制显示为内联公式</p>
          <p>全局应用limits时 (如使用 set 规则),最好禁用此功能。</p>
        example: null
        types:
        - boolean
        strings: []
        default: <code><span class="typ-key">true</span></code>
        positional: false
        named: true
        required: false
        variadic: false
        settable: true
      returns:
      - content
      methods: []
      scope: []
children: []
